---
title: Manipulating Blocks
description: How to read, create, update, and remove blocks in the BlockNote editor
imageTitle: Manipulating Blocks
---

BlockNote provides a comprehensive set of APIs for reading, creating, updating, and removing blocks in the editor. These APIs allow you to programmatically manipulate the document structure and content.

## Overview

The block manipulation APIs fall into several categories:

- **[Reading blocks](#reading-blocks)** - Accessing existing blocks and their relationships
- **[Creating blocks](#creating-blocks)** - Inserting new blocks into the document
- **[Updating blocks](#updating-blocks)** - Modifying existing block content and properties
- **[Removing blocks](#removing-blocks)** - Deleting blocks from the document
- **[Replacing blocks](#replacing-blocks)** - Swapping existing blocks with new ones
- **[Moving blocks](#moving-blocks)** - Reordering blocks within the document
- **[Nesting blocks](#nesting-blocks)** - Creating hierarchical relationships between blocks

## Common Types

Before diving into the APIs, let's understand the key types used throughout:

### Block Identifiers

Most methods require a `BlockIdentifier` to reference existing blocks:

```typescript
type BlockIdentifier = string | Block;
```

You can pass either:

- A `string` representing the block ID
- A `Block` object (the ID will be extracted automatically)

### Partial Blocks

When creating or updating blocks, you use `PartialBlock` objects which have optional properties:

```typescript
type PartialBlock = {
  id?: string; // Auto-generated if not provided
  type?: string; // Block type (paragraph, heading, etc.)
  props?: Partial<Record<string, any>>; // Block-specific properties
  content?: string | InlineContent[] | TableContent; // Block content
  children?: PartialBlock[]; // Nested blocks
};
```

This makes it easy to create simple blocks or update specific properties without specifying everything.

## Reading Blocks

### Getting the Document

Retrieve all top-level blocks in the editor:

```typescript
const blocks = editor.document;
```

Returns a snapshot of all top-level (non-nested) blocks in the document.

### Getting Specific Blocks

#### Single Block

```typescript
getBlock(blockIdentifier: BlockIdentifier): Block | undefined
```

Retrieves a specific block by its identifier.

```typescript
const block = editor.getBlock("block-123");
// or
const block = editor.getBlock(existingBlock);
```

#### Previous Block

```typescript
getPrevBlock(blockIdentifier: BlockIdentifier): Block | undefined
```

Gets the previous sibling of a block.

```typescript
const prevBlock = editor.getPrevBlock("block-123");
```

#### Next Block

```typescript
getNextBlock(blockIdentifier: BlockIdentifier): Block | undefined
```

Gets the next sibling of a block.

```typescript
const nextBlock = editor.getNextBlock("block-123");
```

#### Parent Block

```typescript
getParentBlock(blockIdentifier: BlockIdentifier): Block | undefined
```

Gets the parent of a nested block.

```typescript
const parentBlock = editor.getParentBlock("nested-block-123");
```

### Traversing All Blocks

```typescript
forEachBlock(
  callback: (block: Block) => boolean | undefined,
  reverse: boolean = false
): void
```

Traverses all blocks depth-first and executes a callback for each.

```typescript
editor.forEachBlock((block) => {
  console.log(`Block ${block.id}: ${block.type}`);
  return true; // Continue traversal
});
```

## Creating Blocks

### Inserting Blocks

```typescript
insertBlocks(
  blocksToInsert: PartialBlock[],
  referenceBlock: BlockIdentifier,
  placement: "before" | "after" = "before"
): void
```

Inserts new blocks relative to an existing block.

```typescript
// Insert a paragraph before an existing block
editor.insertBlocks(
  [{ type: "paragraph", content: "New paragraph" }],
  "existing-block-id",
  "before",
);

// Insert multiple blocks after an existing block
editor.insertBlocks(
  [
    { type: "heading", content: "New Section", props: { level: 2 } },
    { type: "paragraph", content: "Section content" },
  ],
  "existing-block-id",
  "after",
);
```

## Updating Blocks

### Modifying Existing Blocks

```typescript
updateBlock(
  blockToUpdate: BlockIdentifier,
  update: PartialBlock
): void
```

Updates an existing block with new properties.

```typescript
// Change a paragraph to a heading
editor.updateBlock("block-123", {
  type: "heading",
  props: { level: 2 },
});

// Update content only
editor.updateBlock("block-123", {
  content: "Updated content",
});

// Update multiple properties
editor.updateBlock("block-123", {
  type: "heading",
  content: "New heading text",
  props: { level: 1 },
});
```

## Removing Blocks

### Deleting Blocks

```typescript
removeBlocks(blocksToRemove: BlockIdentifier[]): void
```

Removes one or more blocks from the document.

```typescript
// Remove a single block
editor.removeBlocks(["block-123"]);

// Remove multiple blocks
editor.removeBlocks(["block-123", "block-456", "block-789"]);
```

## Replacing Blocks

### Swapping Blocks

```typescript
replaceBlocks(
  blocksToRemove: BlockIdentifier[],
  blocksToInsert: PartialBlock[]
): void
```

Replaces existing blocks with new ones.

```typescript
// Replace a paragraph with a heading
editor.replaceBlocks(
  ["paragraph-block"],
  [{ type: "heading", content: "New Heading", props: { level: 2 } }],
);

// Replace multiple blocks with different content
editor.replaceBlocks(
  ["block-1", "block-2"],
  [
    { type: "paragraph", content: "Replacement content" },
    { type: "bulletListItem", content: "List item" },
  ],
);
```

## Moving Blocks

### Reordering Blocks

```typescript
moveBlocksUp(): void
moveBlocksDown(): void
```

Moves the currently selected blocks up or down in the document.

```typescript
// Move selected blocks up
editor.moveBlocksUp();

// Move selected blocks down
editor.moveBlocksDown();
```

## Nesting Blocks

### Creating Hierarchical Structures

```typescript
canNestBlock(): boolean
nestBlock(): void
canUnnestBlock(): boolean
unnestBlock(): void
```

Manages the nesting level of blocks (indentation).

```typescript
// Check if current block can be nested
if (editor.canNestBlock()) {
  editor.nestBlock(); // Indent the block
}

// Check if current block can be un-nested
if (editor.canUnnestBlock()) {
  editor.unnestBlock(); // Outdent the block
}
```
