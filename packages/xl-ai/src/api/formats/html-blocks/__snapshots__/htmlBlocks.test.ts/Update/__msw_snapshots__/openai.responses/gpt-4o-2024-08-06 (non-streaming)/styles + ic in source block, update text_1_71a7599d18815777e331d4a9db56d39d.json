{
  "request": {
    "method": "POST",
    "url": "https://localhost:3000/ai/proxy?provider=openai&url=https%3A%2F%2Fapi.openai.com%2Fv1%2Fresponses",
    "body": "{\"model\":\"gpt-4o-2024-08-06\",\"input\":[{\"role\":\"system\",\"content\":\"You're manipulating a text document using HTML blocks. \\n        Make sure to follow the json schema provided. When referencing ids they MUST be EXACTLY the same (including the trailing $). \\n        List items are 1 block with 1 list item each, so block content `<ul><li>item1</li></ul>` is valid, but `<ul><li>item1</li><li>item2</li></ul>` is invalid. We'll merge them automatically.\\n        For code blocks, you can use the `data-language` attribute on a code block to specify the language.\\n        This is the document as an array of html blocks (the cursor is BETWEEN two blocks as indicated by cursor: true):\"},{\"role\":\"system\",\"content\":\"[{\\\"id\\\":\\\"ref1$\\\",\\\"block\\\":\\\"<p>Hello, world!</p>\\\"},{\\\"cursor\\\":true},{\\\"id\\\":\\\"ref2$\\\",\\\"block\\\":\\\"<p>Hello, <span data-inline-content-type=\\\\\\\"mention\\\\\\\" data-user=\\\\\\\"John Doe\\\\\\\">@John Doe</span>! <strong>How are you doing?</strong> <span data-text-color=\\\\\\\"blue\\\\\\\">This text is blue!</span></p>\\\"},{\\\"id\\\":\\\"ref3$\\\",\\\"block\\\":\\\"<p>Hello, world! <strong>Bold text. </strong><a target=\\\\\\\"_blank\\\\\\\" rel=\\\\\\\"noopener noreferrer nofollow\\\\\\\" href=\\\\\\\"https://www.google.com\\\\\\\">Link.</a></p>\\\"}]\"},{\"role\":\"system\",\"content\":\"First, determine what part of the document the user is talking about. You SHOULD probably take cursor info into account if needed.\\n       EXAMPLE: if user says \\\"below\\\" (without pointing to a specific part of the document) he / she probably indicates the block(s) after the cursor. \\n       EXAMPLE: If you want to insert content AT the cursor position (UNLESS indicated otherwise by the user), \\n       then you need `referenceId` to point to the block before the cursor with position `after` (or block below and `before`).\\n      \\n      Prefer updating existing blocks over removing and adding (but this also depends on the user's question).\"},{\"role\":\"system\",\"content\":\"The user asks you to do the following:\"},{\"role\":\"user\",\"content\":[{\"type\":\"input_text\",\"text\":\"translate the second block including the greeting to German (use dir instead of Ihnen)\"}]}],\"text\":{\"format\":{\"type\":\"json_schema\",\"strict\":false,\"name\":\"response\",\"schema\":{\"type\":\"object\",\"properties\":{\"operations\":{\"type\":\"array\",\"items\":{\"anyOf\":[{\"type\":\"object\",\"description\":\"Update a block\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"update\"]},\"id\":{\"type\":\"string\",\"description\":\"id of block to update\"},\"block\":{\"type\":\"string\",\"description\":\"html of block (MUST be a single HTML element)\"}},\"required\":[\"type\",\"id\",\"block\"],\"additionalProperties\":false},{\"type\":\"object\",\"description\":\"Insert new blocks\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"add\"]},\"referenceId\":{\"type\":\"string\",\"description\":\"MUST be an id of a block in the document\"},\"position\":{\"type\":\"string\",\"enum\":[\"before\",\"after\"],\"description\":\"`after` to add blocks AFTER (below) the block with `referenceId`, `before` to add the block BEFORE (above)\"},\"blocks\":{\"items\":{\"type\":\"string\",\"description\":\"html of block (MUST be a single HTML element)\"},\"type\":\"array\"}},\"required\":[\"type\",\"referenceId\",\"position\",\"blocks\"],\"additionalProperties\":false},{\"type\":\"object\",\"description\":\"Delete a block\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"delete\"]},\"id\":{\"type\":\"string\",\"description\":\"id of block to delete\"}},\"required\":[\"type\",\"id\"],\"additionalProperties\":false}]}}},\"additionalProperties\":false,\"required\":[\"operations\"]}}}}",
    "headers": [],
    "cookies": []
  },
  "response": {
    "status": 200,
    "statusText": "",
    "body": "{\n  \"id\": \"resp_68bfd9d96df081978216a783f8a8da740acfa2bbb605b6dc\",\n  \"object\": \"response\",\n  \"created_at\": 1757403609,\n  \"status\": \"completed\",\n  \"background\": false,\n  \"error\": null,\n  \"incomplete_details\": null,\n  \"instructions\": null,\n  \"max_output_tokens\": null,\n  \"max_tool_calls\": null,\n  \"model\": \"gpt-4o-2024-08-06\",\n  \"output\": [\n    {\n      \"id\": \"msg_68bfd9da03348197a17fd16f14e3bb820acfa2bbb605b6dc\",\n      \"type\": \"message\",\n      \"status\": \"completed\",\n      \"content\": [\n        {\n          \"type\": \"output_text\",\n          \"annotations\": [],\n          \"logprobs\": [],\n          \"text\": \"{\\\"operations\\\":[{\\\"type\\\":\\\"update\\\",\\\"id\\\":\\\"ref2$\\\",\\\"block\\\":\\\"<p>Hallo, <span data-inline-content-type=\\\\\\\"mention\\\\\\\" data-user=\\\\\\\"John Doe\\\\\\\">@John Doe</span>! <strong>Wie geht es dir?</strong> <span data-text-color=\\\\\\\"blue\\\\\\\">Dieser Text ist blau!</span></p>\\\"}]}\"\n        }\n      ],\n      \"role\": \"assistant\"\n    }\n  ],\n  \"parallel_tool_calls\": true,\n  \"previous_response_id\": null,\n  \"prompt_cache_key\": null,\n  \"reasoning\": {\n    \"effort\": null,\n    \"summary\": null\n  },\n  \"safety_identifier\": null,\n  \"service_tier\": \"default\",\n  \"store\": true,\n  \"temperature\": 1.0,\n  \"text\": {\n    \"format\": {\n      \"type\": \"json_schema\",\n      \"description\": null,\n      \"name\": \"response\",\n      \"schema\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"operations\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"anyOf\": [\n                {\n                  \"type\": \"object\",\n                  \"description\": \"Update a block\",\n                  \"properties\": {\n                    \"type\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"update\"\n                      ]\n                    },\n                    \"id\": {\n                      \"type\": \"string\",\n                      \"description\": \"id of block to update\"\n                    },\n                    \"block\": {\n                      \"type\": \"string\",\n                      \"description\": \"html of block (MUST be a single HTML element)\"\n                    }\n                  },\n                  \"required\": [\n                    \"type\",\n                    \"id\",\n                    \"block\"\n                  ],\n                  \"additionalProperties\": false\n                },\n                {\n                  \"type\": \"object\",\n                  \"description\": \"Insert new blocks\",\n                  \"properties\": {\n                    \"type\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"add\"\n                      ]\n                    },\n                    \"referenceId\": {\n                      \"type\": \"string\",\n                      \"description\": \"MUST be an id of a block in the document\"\n                    },\n                    \"position\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"before\",\n                        \"after\"\n                      ],\n                      \"description\": \"`after` to add blocks AFTER (below) the block with `referenceId`, `before` to add the block BEFORE (above)\"\n                    },\n                    \"blocks\": {\n                      \"items\": {\n                        \"type\": \"string\",\n                        \"description\": \"html of block (MUST be a single HTML element)\"\n                      },\n                      \"type\": \"array\"\n                    }\n                  },\n                  \"required\": [\n                    \"type\",\n                    \"referenceId\",\n                    \"position\",\n                    \"blocks\"\n                  ],\n                  \"additionalProperties\": false\n                },\n                {\n                  \"type\": \"object\",\n                  \"description\": \"Delete a block\",\n                  \"properties\": {\n                    \"type\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"delete\"\n                      ]\n                    },\n                    \"id\": {\n                      \"type\": \"string\",\n                      \"description\": \"id of block to delete\"\n                    }\n                  },\n                  \"required\": [\n                    \"type\",\n                    \"id\"\n                  ],\n                  \"additionalProperties\": false\n                }\n              ]\n            }\n          }\n        },\n        \"additionalProperties\": false,\n        \"required\": [\n          \"operations\"\n        ]\n      },\n      \"strict\": false\n    },\n    \"verbosity\": \"medium\"\n  },\n  \"tool_choice\": \"auto\",\n  \"tools\": [],\n  \"top_logprobs\": 0,\n  \"top_p\": 1.0,\n  \"truncation\": \"disabled\",\n  \"usage\": {\n    \"input_tokens\": 710,\n    \"input_tokens_details\": {\n      \"cached_tokens\": 0\n    },\n    \"output_tokens\": 73,\n    \"output_tokens_details\": {\n      \"reasoning_tokens\": 0\n    },\n    \"total_tokens\": 783\n  },\n  \"user\": null,\n  \"metadata\": {}\n}",
    "headers": []
  }
}