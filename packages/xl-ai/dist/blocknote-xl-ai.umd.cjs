(function(b,_){typeof exports=="object"&&typeof module<"u"?_(exports,require("react"),require("@blocknote/react"),require("ai"),require("@blocknote/core"),require("diff"),require("remark-parse"),require("unified"),require("@ewoudenberg/difflib"),require("remark-stringify"),require("@floating-ui/react"),require("prosemirror-state"),require("prosemirror-view")):typeof define=="function"&&define.amd?define(["exports","react","@blocknote/react","ai","@blocknote/core","diff","remark-parse","unified","@ewoudenberg/difflib","remark-stringify","@floating-ui/react","prosemirror-state","prosemirror-view"],_):(b=typeof globalThis<"u"?globalThis:b||self,_(b["blocknote-xl-ai"]={},b.React,b.react,b.ai,b.core,b.Diff,b.remarkParse,b.unified,b.difflib,b.remarkStringify,b.react$1,b.prosemirrorState,b.prosemirrorView))})(this,function(b,_,T,le,X,Ot,Pt,_e,Bt,Rt,ce,ue,Ue){"use strict";var vr=Object.defineProperty;var _r=(b,_,T)=>_ in b?vr(b,_,{enumerable:!0,configurable:!0,writable:!0,value:T}):b[_]=T;var D=(b,_,T)=>_r(b,typeof _!="symbol"?_+"":_,T);const we=e=>e&&typeof e=="object"&&"default"in e?e:{default:e};function Tt(e){if(e&&typeof e=="object"&&"default"in e)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const F=we(_),jt=Tt(Ot),$e=we(Pt),Lt=we(Rt),Mt=(e,t)=>async(r,i)=>{const o=new Request(r,i),a=new Request(`${e}?provider=${encodeURIComponent(t)}&url=${encodeURIComponent(o.url)}`,{headers:o.headers,body:(i==null?void 0:i.body)||o.body,method:o.method,duplex:"half"});return await fetch(a)};function Dt(e){return{getProviderSettings:t=>({apiKey:e.apiKey,fetch:Mt(e.baseURL,t)})}}var Ie={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ze;function Nt(){if(ze)return Q;ze=1;var e=F.default,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,p){var d,E={},h=null,x=null;p!==void 0&&(h=""+p),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(x=l.ref);for(d in l)i.call(l,d)&&!a.hasOwnProperty(d)&&(E[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)E[d]===void 0&&(E[d]=l[d]);return{$$typeof:t,type:u,key:h,ref:x,props:E,_owner:o.current}}return Q.Fragment=r,Q.jsx=s,Q.jsxs=s,Q}var ee={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe;function Ut(){return Fe||(Fe=1,process.env.NODE_ENV!=="production"&&function(){var e=F.default,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S=Symbol.iterator,g="@@iterator";function m(n){if(n===null||typeof n!="object")return null;var c=S&&n[S]||n[g];return typeof c=="function"?c:null}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function P(n){{for(var c=arguments.length,f=new Array(c>1?c-1:0),y=1;y<c;y++)f[y-1]=arguments[y];V("error",n,f)}}function V(n,c,f){{var y=I.ReactDebugCurrentFrame,w=y.getStackAddendum();w!==""&&(c+="%s",f=f.concat([w]));var A=f.map(function(v){return String(v)});A.unshift("Warning: "+c),Function.prototype.apply.call(console[n],console,A)}}var re=!1,Y=!1,ie=!1,K=!1,R=!1,j;j=Symbol.for("react.module.reference");function $(n){return!!(typeof n=="string"||typeof n=="function"||n===i||n===a||R||n===o||n===p||n===d||K||n===x||re||Y||ie||typeof n=="object"&&n!==null&&(n.$$typeof===h||n.$$typeof===E||n.$$typeof===s||n.$$typeof===u||n.$$typeof===l||n.$$typeof===j||n.getModuleId!==void 0))}function q(n,c,f){var y=n.displayName;if(y)return y;var w=c.displayName||c.name||"";return w!==""?f+"("+w+")":f}function at(n){return n.displayName||"Context"}function z(n){if(n==null)return null;if(typeof n.tag=="number"&&P("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case i:return"Fragment";case r:return"Portal";case a:return"Profiler";case o:return"StrictMode";case p:return"Suspense";case d:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case u:var c=n;return at(c)+".Consumer";case s:var f=n;return at(f._context)+".Provider";case l:return q(n,n.render,"ForwardRef");case E:var y=n.displayName||null;return y!==null?y:z(n.type)||"Memo";case h:{var w=n,A=w._payload,v=w._init;try{return z(v(A))}catch{return null}}}return null}var G=Object.assign,oe=0,st,lt,ct,ut,ft,dt,pt;function mt(){}mt.__reactDisabledLog=!0;function Vn(){{if(oe===0){st=console.log,lt=console.info,ct=console.warn,ut=console.error,ft=console.group,dt=console.groupCollapsed,pt=console.groupEnd;var n={configurable:!0,enumerable:!0,value:mt,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}oe++}}function Yn(){{if(oe--,oe===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G({},n,{value:st}),info:G({},n,{value:lt}),warn:G({},n,{value:ct}),error:G({},n,{value:ut}),group:G({},n,{value:ft}),groupCollapsed:G({},n,{value:dt}),groupEnd:G({},n,{value:pt})})}oe<0&&P("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Pe=I.ReactCurrentDispatcher,Be;function ye(n,c,f){{if(Be===void 0)try{throw Error()}catch(w){var y=w.stack.trim().match(/\n( *(at )?)/);Be=y&&y[1]||""}return`
`+Be+n}}var Re=!1,be;{var Kn=typeof WeakMap=="function"?WeakMap:Map;be=new Kn}function ht(n,c){if(!n||Re)return"";{var f=be.get(n);if(f!==void 0)return f}var y;Re=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var A;A=Pe.current,Pe.current=null,Vn();try{if(c){var v=function(){throw Error()};if(Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(M){y=M}Reflect.construct(n,[],v)}else{try{v.call()}catch(M){y=M}n.call(v.prototype)}}else{try{throw Error()}catch(M){y=M}n()}}catch(M){if(M&&y&&typeof M.stack=="string"){for(var k=M.stack.split(`
`),L=y.stack.split(`
`),O=k.length-1,B=L.length-1;O>=1&&B>=0&&k[O]!==L[B];)B--;for(;O>=1&&B>=0;O--,B--)if(k[O]!==L[B]){if(O!==1||B!==1)do if(O--,B--,B<0||k[O]!==L[B]){var N=`
`+k[O].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),typeof n=="function"&&be.set(n,N),N}while(O>=1&&B>=0);break}}}finally{Re=!1,Pe.current=A,Yn(),Error.prepareStackTrace=w}var Z=n?n.displayName||n.name:"",W=Z?ye(Z):"";return typeof n=="function"&&be.set(n,W),W}function Jn(n,c,f){return ht(n,!1)}function Zn(n){var c=n.prototype;return!!(c&&c.isReactComponent)}function ke(n,c,f){if(n==null)return"";if(typeof n=="function")return ht(n,Zn(n));if(typeof n=="string")return ye(n);switch(n){case p:return ye("Suspense");case d:return ye("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case l:return Jn(n.render);case E:return ke(n.type,c,f);case h:{var y=n,w=y._payload,A=y._init;try{return ke(A(w),c,f)}catch{}}}return""}var ae=Object.prototype.hasOwnProperty,gt={},yt=I.ReactDebugCurrentFrame;function ve(n){if(n){var c=n._owner,f=ke(n.type,n._source,c?c.type:null);yt.setExtraStackFrame(f)}else yt.setExtraStackFrame(null)}function Xn(n,c,f,y,w){{var A=Function.call.bind(ae);for(var v in n)if(A(n,v)){var k=void 0;try{if(typeof n[v]!="function"){var L=Error((y||"React class")+": "+f+" type `"+v+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[v]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw L.name="Invariant Violation",L}k=n[v](c,v,y,f,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(O){k=O}k&&!(k instanceof Error)&&(ve(w),P("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",y||"React class",f,v,typeof k),ve(null)),k instanceof Error&&!(k.message in gt)&&(gt[k.message]=!0,ve(w),P("Failed %s type: %s",f,k.message),ve(null))}}}var Qn=Array.isArray;function Te(n){return Qn(n)}function er(n){{var c=typeof Symbol=="function"&&Symbol.toStringTag,f=c&&n[Symbol.toStringTag]||n.constructor.name||"Object";return f}}function tr(n){try{return bt(n),!1}catch{return!0}}function bt(n){return""+n}function kt(n){if(tr(n))return P("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",er(n)),bt(n)}var se=I.ReactCurrentOwner,nr={key:!0,ref:!0,__self:!0,__source:!0},vt,_t,je;je={};function rr(n){if(ae.call(n,"ref")){var c=Object.getOwnPropertyDescriptor(n,"ref").get;if(c&&c.isReactWarning)return!1}return n.ref!==void 0}function ir(n){if(ae.call(n,"key")){var c=Object.getOwnPropertyDescriptor(n,"key").get;if(c&&c.isReactWarning)return!1}return n.key!==void 0}function or(n,c){if(typeof n.ref=="string"&&se.current&&c&&se.current.stateNode!==c){var f=z(se.current.type);je[f]||(P('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',z(se.current.type),n.ref),je[f]=!0)}}function ar(n,c){{var f=function(){vt||(vt=!0,P("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};f.isReactWarning=!0,Object.defineProperty(n,"key",{get:f,configurable:!0})}}function sr(n,c){{var f=function(){_t||(_t=!0,P("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};f.isReactWarning=!0,Object.defineProperty(n,"ref",{get:f,configurable:!0})}}var lr=function(n,c,f,y,w,A,v){var k={$$typeof:t,type:n,key:c,ref:f,props:v,_owner:A};return k._store={},Object.defineProperty(k._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(k,"_self",{configurable:!1,enumerable:!1,writable:!1,value:y}),Object.defineProperty(k,"_source",{configurable:!1,enumerable:!1,writable:!1,value:w}),Object.freeze&&(Object.freeze(k.props),Object.freeze(k)),k};function cr(n,c,f,y,w){{var A,v={},k=null,L=null;f!==void 0&&(kt(f),k=""+f),ir(c)&&(kt(c.key),k=""+c.key),rr(c)&&(L=c.ref,or(c,w));for(A in c)ae.call(c,A)&&!nr.hasOwnProperty(A)&&(v[A]=c[A]);if(n&&n.defaultProps){var O=n.defaultProps;for(A in O)v[A]===void 0&&(v[A]=O[A])}if(k||L){var B=typeof n=="function"?n.displayName||n.name||"Unknown":n;k&&ar(v,B),L&&sr(v,B)}return lr(n,k,L,w,y,se.current,v)}}var Le=I.ReactCurrentOwner,wt=I.ReactDebugCurrentFrame;function J(n){if(n){var c=n._owner,f=ke(n.type,n._source,c?c.type:null);wt.setExtraStackFrame(f)}else wt.setExtraStackFrame(null)}var Me;Me=!1;function De(n){return typeof n=="object"&&n!==null&&n.$$typeof===t}function It(){{if(Le.current){var n=z(Le.current.type);if(n)return`

Check the render method of \``+n+"`."}return""}}function ur(n){return""}var Ct={};function fr(n){{var c=It();if(!c){var f=typeof n=="string"?n:n.displayName||n.name;f&&(c=`

Check the top-level render call using <`+f+">.")}return c}}function xt(n,c){{if(!n._store||n._store.validated||n.key!=null)return;n._store.validated=!0;var f=fr(c);if(Ct[f])return;Ct[f]=!0;var y="";n&&n._owner&&n._owner!==Le.current&&(y=" It was passed a child from "+z(n._owner.type)+"."),J(n),P('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',f,y),J(null)}}function At(n,c){{if(typeof n!="object")return;if(Te(n))for(var f=0;f<n.length;f++){var y=n[f];De(y)&&xt(y,c)}else if(De(n))n._store&&(n._store.validated=!0);else if(n){var w=m(n);if(typeof w=="function"&&w!==n.entries)for(var A=w.call(n),v;!(v=A.next()).done;)De(v.value)&&xt(v.value,c)}}}function dr(n){{var c=n.type;if(c==null||typeof c=="string")return;var f;if(typeof c=="function")f=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===E))f=c.propTypes;else return;if(f){var y=z(c);Xn(f,n.props,"prop",y,n)}else if(c.PropTypes!==void 0&&!Me){Me=!0;var w=z(c);P("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",w||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&P("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function pr(n){{for(var c=Object.keys(n.props),f=0;f<c.length;f++){var y=c[f];if(y!=="children"&&y!=="key"){J(n),P("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",y),J(null);break}}n.ref!==null&&(J(n),P("Invalid attribute `ref` supplied to `React.Fragment`."),J(null))}}var St={};function Et(n,c,f,y,w,A){{var v=$(n);if(!v){var k="";(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var L=ur();L?k+=L:k+=It();var O;n===null?O="null":Te(n)?O="array":n!==void 0&&n.$$typeof===t?(O="<"+(z(n.type)||"Unknown")+" />",k=" Did you accidentally export a JSX literal instead of a component?"):O=typeof n,P("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",O,k)}var B=cr(n,c,f,w,A);if(B==null)return B;if(v){var N=c.children;if(N!==void 0)if(y)if(Te(N)){for(var Z=0;Z<N.length;Z++)At(N[Z],n);Object.freeze&&Object.freeze(N)}else P("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else At(N,n)}if(ae.call(c,"key")){var W=z(n),M=Object.keys(c).filter(function(kr){return kr!=="key"}),Ne=M.length>0?"{key: someKey, "+M.join(": ..., ")+": ...}":"{key: someKey}";if(!St[W+Ne]){var br=M.length>0?"{"+M.join(": ..., ")+": ...}":"{}";P(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Ne,W,br,W),St[W+Ne]=!0}}return n===i?pr(B):dr(B),B}}function mr(n,c,f){return Et(n,c,f,!0)}function hr(n,c,f){return Et(n,c,f,!1)}var gr=hr,yr=mr;ee.Fragment=i,ee.jsx=gr,ee.jsxs=yr}()),ee}process.env.NODE_ENV==="production"?Ie.exports=Nt():Ie.exports=Ut();var C=Ie.exports;function Ce(e,t,r,i,o={idsSuffixed:!1}){const a=r.find(s=>s.schema.name===e.type);return!a||!a.validate(e,t,o)?(console.log("INVALID OPERATION",e),i):a.apply(e,t,i,o)}async function $t(e,t,r){let i=0,o;for await(const a of t){const s=a.operations||[];let u=!0;for(const l of s.slice(i))o=Ce(l,e,r,u?o:void 0,{idsSuffixed:!0}),u=!1;i=s.length-1}}function zt(e,t){const r=t.schema.inlineContentSchema[e.type];return!(!r||r==="text"&&!("text"in e))}function qe(e,t,r){const i=e.type||r,o=t.schema.blockSchema[i];if(!o)return!1;if(e.children,o.content==="none"){if(e.content)return!1}else{if(!e.content)return!0;if(!Array.isArray(e.content))return!1;if(o.content==="table")return!0;if(!e.content.every(a=>zt(a,t)))return!1}return!0}const Ge={name:"add",description:"Insert new blocks",parameters:{referenceId:{type:"string",description:""},position:{type:"string",enum:["before","after"],description:"Whether new block(s) should be inserterd before or after `referenceId`"},blocks:{items:{$ref:"#/$defs/block"},type:"array"}},required:["referenceId","position","blocks"]};function Ft(e,t,r,i){let o=e.referenceId;i.idsSuffixed&&(o=o.slice(0,-1));const a=r||[],s=e.blocks.slice(0,a.length);for(let l=0;l<s.length;l++)t.updateBlock(a[l],s[l]);const u=e.blocks.slice(a.length);if(u.length>0){if(s.length===0)return[...t.insertBlocks(u,o,e.position).map(d=>d.id)];const l=t.insertBlocks(u,a[a.length-1],"after");return{operationContext:[...a,...l.map(p=>p.id)],lastAffectedBlockId:l[l.length-1]}}return{operationContext:a,lastAffectedBlockId:a.length>0?a[a.length-1]:void 0}}function qt(e,t,r){if(e.type!==Ge.name||e.position!=="before"&&e.position!=="after")return!1;let i=e.referenceId;if(r.idsSuffixed){if(!(i!=null&&i.endsWith("$")))return!1;i=i.slice(0,-1)}return!t.getBlock(i)||!e.blocks||e.blocks.length===0?!1:e.blocks.every(a=>qe(a,t))}const te={schema:Ge,apply:Ft,validate:qt},We={name:"delete",description:"Delete a block",parameters:{id:{type:"string",description:"id of block to delete"}},required:["id"]};function Gt(e,t,r,i){let o=e.id;i.idsSuffixed&&(o=o.slice(0,-1)),t.removeBlocks([o])}function Wt(e,t,r){if(e.type!==We.name)return!1;let i=e.id;if(r.idsSuffixed){if(!(i!=null&&i.endsWith("$")))return!1;i=i.slice(0,-1)}return!!t.getBlock(i)}const He={schema:We,apply:Gt,validate:Wt},Ve={name:"update",description:"Update a block",parameters:{id:{type:"string",description:"id of block to update"},block:{$ref:"#/$defs/block"}},required:["id","block"]};function Ht(e,t,r,i){let o=e.id;i.idsSuffixed&&(o=o.slice(0,-1)),t.updateBlock(o,e.block)}function Vt(e,t,r){if(e.type!==Ve.name)return!1;let i=e.id;if(r.idsSuffixed){if(!(i!=null&&i.endsWith("$")))return!1;i=i.slice(0,-1)}if(!e.block)return!1;const o=t.getBlock(i);return o?qe(e.block,t,o.type):(console.error("BLOCK NOT FOUND",i),!1)}const ne={schema:Ve,apply:Ht,validate:Vt};function xe(e){return e.map(t=>({...t,id:`${t.id}$`,children:xe(t.children)}))}function Yt(e){if(!e.editor.getSelection())throw new Error("No selection");return[{role:"system",content:`You're manipulating a text document. Make sure to follow the json schema provided. 
            The user selected everything between [$! and !$], including blocks in between.`},{role:"system",content:JSON.stringify(xe(e.document))},{role:"system",content:"Make sure to ONLY affect the selected text and blocks (split words if necessary), and don't include the markers in the response."},{role:"user",content:e.userPrompt}]}function Kt(e){return[{role:"system",content:"You're manipulating a text document. Make sure to follow the json schema provided. This is the document:"},{role:"system",content:JSON.stringify(xe(e.document))},{role:"system",content:`This would be an example block: 
`+JSON.stringify({type:"paragraph",props:{},content:[{type:"text",text:"Bold text",styles:{bold:!0}},{type:"text",text:" and italic text",styles:{italic:!0}}]})},{role:"user",content:e.userPrompt}]}function Jt(e){return{type:"object",description:e.schema.description,properties:{type:{type:"string",enum:[e.schema.name]},...e.schema.parameters},required:["type",...e.schema.required],additionalProperties:!1}}function Zt(e){return{type:"object",properties:{operations:{type:"array",items:{anyOf:e.map(t=>Jt(t))}}},additionalProperties:!1,required:["operations"]}}function Xt(e){const t={},r={};return e.forEach(o=>{const{type:a,...s}=o.properties,u=JSON.stringify(s);t[u]?t[u].push(a.enum[0]):(t[u]=[a.enum[0]],r[u]=o)}),Object.keys(t).map(o=>{const a=r[o];return{...a,properties:{...a.properties,type:{type:"string",enum:t[o]}}}})}function Qt(e){return{type:"object",properties:Object.fromEntries(Object.entries(e).map(([t,r])=>[t,{type:r.propSchema}])),additionalProperties:!1}}function en(){return{type:"object",properties:{type:{type:"string",enum:["text"]},text:{type:"string"},styles:{$ref:"#/$defs/styles"}},additionalProperties:!1,required:["type","text"]}}function Ye(e){return{type:"object",properties:Object.fromEntries(Object.entries(e).filter(([t,r])=>r.default!==void 0).map(([t,r])=>[t,{type:typeof r.default,enum:r.values}])),additionalProperties:!1}}function tn(e){return{type:"array",items:{anyOf:Object.entries(e).map(([t,r])=>r==="text"?{$ref:"#/$defs/styledtext"}:r==="link"?{type:"object",properties:{type:{type:"string",enum:["link"]},content:{type:"array",items:{$ref:"#/$defs/styledtext"}},href:{type:"string"}},additionalProperties:!1,required:["type","href","content"]}:{type:"object",properties:{type:{type:"string",enum:[r.type]},content:r.content==="styled"?{type:"array",items:{$ref:"#/$defs/styledtext"}}:void 0,props:{type:"object",properties:Ye(r.propSchema),additionalProperties:!1}},additionalProperties:!1,required:["type",...r.content==="styled"?["content"]:[]]})}}}function nn(e){return{anyOf:Xt(Object.entries(e).map(([t,r])=>({type:"object",properties:{type:{type:"string",enum:[r.type]},content:r.content==="inline"?{$ref:"#/$defs/inlinecontent"}:r.content==="table"?{type:"object",properties:{}}:void 0,props:Ye(r.propSchema)},additionalProperties:!1,required:["type"]})))}}function rn(e){return e=on(e).removeFileBlocks().removeDefaultProps().get(),{$defs:{styles:Qt(e.styleSchema),styledtext:en(),inlinecontent:tn(e.inlineContentSchema),block:nn(e.blockSchema)}}}function on(e){const t=JSON.parse(JSON.stringify({blockSchema:e.blockSchema,inlineContentSchema:e.inlineContentSchema,styleSchema:e.styleSchema}));return{removeFileBlocks(){return t.blockSchema=Object.fromEntries(Object.entries(t.blockSchema).filter(([r,i])=>!i.isFileBlock)),this},removeDefaultProps(){return t.blockSchema=Object.fromEntries(Object.entries(t.blockSchema).map(([r,i])=>[r,{...i,propSchema:Object.fromEntries(Object.entries(i.propSchema).filter(o=>typeof X.defaultProps[o[0]]>"u"))}])),this},get(){return t}}}async function an(e,t){const{prompt:r,useSelection:i,...o}=t;let a;"messages"in t&&t.messages?a=t.messages:i?a=Yt({editor:e,userPrompt:t.prompt,document:e.getDocumentWithSelectionMarkers()}):a=Kt({editor:e,userPrompt:t.prompt,document:e.document});const s={functions:[ne,te,He],stream:!0,messages:a,...o},u=le.jsonSchema({...Zt(s.functions),$defs:rn(e.schema).$defs});if(s.stream){const p=le.streamObject({model:s.model,mode:"tool",schema:u,messages:s.messages,...s._streamObjectOptions});return await $t(e,p.partialObjectStream,s.functions),p}const l=await le.generateObject({model:s.model,mode:"tool",schema:u,messages:s.messages,...s._generateObjectOptions});if(!l.object.operations)throw new Error("No operations returned");for(const p of l.object.operations)await Ce(p,e,s.functions,void 0,{idsSuffixed:!0});return l}function fe(e,t){const r=e.findIndex(i=>!t(i));return r===-1?e.splice(0,e.length):e.splice(0,r)}function Ke(e){const t=[];for(const r of e)r.type==="list"?t.push(...r.children):t.push(r);return t}function Ae(e,t,r){const i=e.replace(t,r);return i===e?i:Ae(i,t,r)}async function sn(e,t){e=Ae(e,/\n\n\n\n/g,`

[EMPTY-LINE]

`),t=Ae(t,/\n\n\n\n/g,`

[EMPTY-LINE]

`);const r=_e.unified().use($e.default).parse(e),i=_e.unified().use($e.default).parse(t),o=jt.diffChars(e,t),a=[];let s=0,u=0;const l=[...Ke(r.children)],p=[...Ke(i.children)],d=new Map;for(const h of o){let x=s,S=u;if(h.added?S=u+h.value.length:h.removed?x=s+h.value.length:(x=s+h.value.length,S=u+h.value.length),!h.added){for(const g of l)if(g.position.start.offset<x&&g.position.end.offset>s)d.set(g,[...d.get(g)||[],h]);else if(g.position.start.offset>x)break}if(!h.removed){for(const g of p)if(g.position.start.offset<S&&g.position.end.offset>u)d.set(g,[...d.get(g)||[],h]);else if(g.position.start.offset>S)break}s=x,u=S}for(const h of o){if(h.added){const g=fe(p,m=>d.get(m).some(I=>I===h)&&d.get(m).length===1);for(const m of g)a.push({type:"add",newBlock:m});continue}if(h.removed){const g=fe(l,m=>d.get(m).some(I=>I===h)&&d.get(m).length===1);for(const m of g)a.push({type:"remove",oldBlock:m});continue}const x=fe(p,g=>d.get(g).some(m=>m===h)),S=fe(l,g=>d.get(g).some(m=>h===m));for(;x.length||S.length;){const g=x.shift(),m=S.shift();if(!g&&!m)throw new Error("No matching blocks found");g?m?d.get(m).every(I=>!I.added&&!I.removed)&&d.get(g).every(I=>!I.added&&!I.removed)?a.push({type:"unchanged",newBlock:g,oldBlock:m}):a.push({type:"changed",newBlock:g,oldBlock:m}):a.push({type:"add",newBlock:g}):a.push({type:"remove",oldBlock:m})}}function E(h){var x,S;return((x=h.oldBlock)==null?void 0:x.type)==="paragraph"&&h.oldBlock.children.length===1&&h.oldBlock.children[0].type==="text"&&h.oldBlock.children[0].value==="[EMPTY-LINE]"&&(h.oldBlock.children[0].value=""),((S=h.newBlock)==null?void 0:S.type)==="paragraph"&&h.newBlock.children.length===1&&h.newBlock.children[0].type==="text"&&h.newBlock.children[0].value==="[EMPTY-LINE]"&&(h.newBlock.children[0].value=""),h}for(const h of a)E(h);return a}const de=function(e){const t=typeof e;return e==null?"null":t==="object"&&e.constructor===Array?"array":t==="object"&&e instanceof Date?"date":t},pe=function(e,t){const r=typeof e;if(Array.isArray(e))return e.map(i=>pe(i,t));if(r==="object"){for(const i in e)e[i]=pe(e[i],t);return e}else return r==="number"&&Number.isFinite(e)&&!Number.isInteger(e)?+e.toFixed(t):e};class ln{constructor(t){this.options=t,t.outputKeys=t.outputKeys||[],t.excludeKeys=t.excludeKeys||[]}isScalar(t){return typeof t!="object"||t===null}objectDiff(t,r){let i={},o=0,a=!0;for(const[s,u]of Object.entries(t))if(!this.options.outputNewOnly){const l="__deleted";!(s in r)&&!this.options.excludeKeys.includes(s)&&(i[`${s}${l}`]=u,o-=30,a=!1)}for(const[s,u]of Object.entries(r)){const l=this.options.outputNewOnly?"":"__added";!(s in t)&&!this.options.excludeKeys.includes(s)&&(i[`${s}${l}`]=u,o-=30,a=!1)}for(const[s,u]of Object.entries(t))if(s in r){if(this.options.excludeKeys.includes(s))continue;o+=20;const l=r[s],p=this.diff(u,l);p.equal?(this.options.full||this.options.outputKeys.includes(s))&&(i[s]=u):(i[s]=p.result,a=!1),o+=Math.min(20,Math.max(-10,p.score/5))}return a?(o=100*Math.max(Object.keys(t).length,.5),this.options.full||(i=void 0)):o=Math.max(0,o),{score:o,result:i,equal:a}}findMatchingObject(t,r,i){let o=null;for(const[a,{item:s,index:u}]of Object.entries(i))if(a!=="__next"){const l=Math.abs(u-r);if(de(t)===de(s)){const{score:p}=this.diff(t,s);(!o||p>o.score||p===o.score&&l<o.indexDistance)&&(o={score:p,key:a,indexDistance:l})}}return o}scalarize(t,r,i){const o=[];if(i){const s={};for(let u=0;u<t.length;u++){const l=t[u];if(this.isScalar(l))continue;const p=this.findMatchingObject(l,u,i);p&&(!s[p.key]||p.score>s[p.key].score)&&(s[p.key]={score:p.score,index:u})}for(const[u,l]of Object.entries(s))o[l.index]=u}const a=[];for(let s=0;s<t.length;s++){const u=t[s];if(this.isScalar(u))a.push(u);else{const l=o[s]||"__$!SCALAR"+r.__next++;r[l]={item:u,index:s},a.push(l)}}return a}isScalarized(t,r){return typeof t=="string"&&t in r}descalarize(t,r){return this.isScalarized(t,r)?r[t].item:t}arrayDiff(t,r){const i={__next:1},o=this.scalarize(t,i),a={__next:i.__next},s=this.scalarize(r,a,i);this.options.sort&&(o.sort(),s.sort());const u=new Bt.SequenceMatcher(null,o,s).getOpcodes();let l=[],p=0,d=!0;for(const[E,h,x,S,g]of u){let m,I,P,V,re,Y,ie,K;switch(E==="equal"||this.options.keysOnly&&E==="replace"||(d=!1),E){case"equal":for(m=h,V=x,P=h<=V;P?m<V:m>V;P?m++:m--){const R=o[m];if(this.isScalarized(R,i)){if(!this.isScalarized(R,a))throw new Error(`internal bug: isScalarized(item, originals1) != isScalarized(item, originals2) for item ${JSON.stringify(R)}`);const j=this.descalarize(R,i),$=this.descalarize(R,a),q=this.diff(j,$);q.equal?this.options.full||this.options.keepUnchangedValues?l.push([" ",j]):l.push([" "]):(l.push(["~",q.result]),d=!1)}else this.options.full||this.options.keepUnchangedValues?l.push([" ",R]):l.push([" "]);p+=10}break;case"delete":for(m=h,Y=x,re=h<=Y;re?m<Y:m>Y;re?m++:m--)l.push(["-",this.descalarize(o[m],i)]),p-=5;break;case"insert":for(I=S,K=g,ie=S<=K;ie?I<K:I>K;ie?I++:I--)l.push(["+",this.descalarize(s[I],a)]),p-=5;break;case"replace":if(this.options.keysOnly){let R,j;for(m=h,j=x,R=h<=j;R?m<j:m>j;R?m++:m--){const $=this.diff(this.descalarize(o[m],i),this.descalarize(s[m-h+S],a));$.equal?l.push([" "]):(l.push(["~",$.result]),d=!1)}}else{let R,j,$,q;for(m=h,j=x,R=h<=j;R?m<j:m>j;R?m++:m--)l.push(["-",this.descalarize(o[m],i)]),p-=5;for(I=S,q=g,$=S<=q;$?I<q:I>q;$?I++:I--)l.push(["+",this.descalarize(s[I],a)]),p-=5}break}}return d||u.length===0?(this.options.full?l=t:l=void 0,p=100):p=Math.max(0,p),{score:p,result:l,equal:d}}diff(t,r){const i=de(t),o=de(r);if(i===o)switch(i){case"object":return this.objectDiff(t,r);case"array":return this.arrayDiff(t,r)}let a=100,s=t,u;return this.options.keysOnly?(u=!0,s=void 0):(i==="date"&&o==="date"?u=t.getTime()===r.getTime():u=t===r,u?this.options.full||(s=void 0):(a=0,this.options.outputNewOnly?s=r:s={__old:t,__new:r})),{score:a,result:s,equal:u}}}function cn(e,t,r={}){return r.precision!==void 0&&(e=pe(e,r.precision),t=pe(t,r.precision)),new ln(r).diff(e,t).result}async function un(e,t,r,i){if(r===i)throw new Error("Markdown is unchanged");const o=await e.tryParseMarkdownToBlocks(r);if(o.length!==1)throw new Error("Old markdown is not a single block");const a=o[0],s=await e.tryParseMarkdownToBlocks(i);if(s.length!==1)throw new Error("New markdown is not a single block");const u=s[0],l=cn(a,u);if(Array.isArray(l)||typeof l!="object")throw new Error("json diff is not a single change");const p={};if(l.props){p.props={};for(const d in l.props)d.endsWith("__added")?p.props[d.replace("__added","")]=l.props[d]:d.endsWith("__deleted")?p.props[d.replace("__deleted","")]=void 0:p.props[d]=l.props[d].__new}return l.content&&(p.content=u.content),l.type&&(p.type=u.type),p}function Se(e){return _e.unified().use(Lt.default).stringify(e)}function Je(e){return e.flatMap(t=>[t,...Je(t.children)])}async function fn(e,t,r){const i=[];if(t=Je(t),r.filter(s=>s.type!=="add").length!==t.length)throw new Error("Number of nodes in markdown diff does not match number of blocks");let o,a=0;for(const s of r)if(s.type==="add"){const u=await e.tryParseMarkdownToBlocks(Se(s.newBlock));if(u.length!==1)throw new Error("Expected single block to be added");const l=u[0];if(i.length>0&&i[i.length-1].type==="add")i[i.length-1].blocks.push(l);else{const p=a<t.length?{position:"before",referenceId:t[a].id}:{position:"after",referenceId:o};i.push({type:"add",...p,blocks:[l]})}}else if(s.type==="remove")i.push({type:"delete",id:t[a].id}),a++;else if(s.type==="unchanged")o=t[a].id,a++;else if(s.type==="changed"){o=t[a].id;const u=await un(e,t[a],Se(s.oldBlock),Se(s.newBlock));i.push({type:"update",id:t[a].id,block:u}),a++}return i}function dn(e){return[{role:"system",content:"You're manipulating a markdown document. Send me the new markdown of the entire updated document. Don't include any other text, comments or wrapping marks. Next message is the existing document in markdown:"},{role:"user",content:e.markdown},{role:"user",content:e.userPrompt}]}function pn(e){return[{role:"system",content:"You're manipulating a markdown document. The user selected everything between [$! and !$], including blocks in between. Don't include any other text, comments or wrapping marks. Next message is the existing document in markdown:"},{role:"user",content:e.markdown},{role:"system",content:"Return the ENTIRE markdown document (including parts outside the selection), but make sure to ONLY change the selected text (text between [$! and !$]), keep the rest of the document unchanged. DO NOT include the markers in the response."},{role:"user",content:e.userPrompt}]}function mn(e,t){let r=0,i=e.length;for(;r<i&&t(e[r]);)r++;for(;i>r&&t(e[i-1]);)i--;return e.slice(r,i)}async function hn(e,t){let r;const i=await e.blocksToMarkdownLossy();if("messages"in t&&t.messages)r=t.messages;else if(t.useSelection){const d=e.getDocumentWithSelectionMarkers(),E=await e.blocksToMarkdownLossy(d);r=pn({editor:e,markdown:E,userPrompt:t.prompt})}else r=dn({editor:e,markdown:i,userPrompt:t.prompt});const o={messages:r,...t},a=await le.generateText({model:o.model,messages:o.messages,...t._generateTextOptions}),s=mn(e.document,d=>d.type==="paragraph"&&Array.isArray(d.content)&&d.content.length===0),u=a.text.trim(),l=await sn(i,u),p=await fn(e,s,l);for(const d of p)await Ce(d,e,[ne,te,He],void 0,{idsSuffixed:!1})}const Ze={json:{call:an},markdown:{call:hn}},Ee=_.createContext(void 0);function me(){const e=_.useContext(Ee);if(!e)throw new Error("useBlockNoteAIContext must be used within a BlockNoteAIContextProvider");return e}function gn(e){const t=T.useBlockNoteEditor(),{children:r,...i}=e,[o,a]=_.useState(void 0),[s,u]=_.useState(t.document),{model:l,dataFormat:p,stream:d}=i,[E,h]=_.useState("initial"),x=_.useCallback(async S=>{u(t.document),h("generating");let g;try{return p==="json"?g=await Ze.json.call(t,{model:l,stream:d,...S}):(S.functions&&console.warn("functions are not supported for markdown, ignoring them"),g=await Ze.markdown.call(t,{model:l,...S})),h(m=>m==="generating"?"done":m),g}catch(m){h("initial"),u(void 0),console.error(m)}},[l,p,d,t]);return C.jsx(Ee.Provider,{value:{...i,callLLM:x,aiMenuBlockID:o,setAiMenuBlockID:a,prevDocument:s,setPrevDocument:u,aiResponseStatus:E,setAIResponseStatus:h},children:e.children})}function H(e){if(!e.dictionary.ai)throw new Error("AI dictionary not found");return e.dictionary.ai}function Xe(){const e=T.useBlockNoteContext();return H(e.editor)}var Qe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},et=F.default.createContext&&F.default.createContext(Qe),yn=["attr","size","title"];function bn(e,t){if(e==null)return{};var r=kn(e,t),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)i=a[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function kn(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},he.apply(this,arguments)}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tt(Object(r),!0).forEach(function(i){vn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function vn(e,t,r){return t=_n(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _n(e){var t=wn(e,"string");return typeof t=="symbol"?t:t+""}function wn(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nt(e){return e&&e.map((t,r)=>F.default.createElement(t.tag,ge({key:r},t.attr),nt(t.child)))}function U(e){return t=>F.default.createElement(In,he({attr:ge({},e.attr)},t),nt(e.child))}function In(e){var t=r=>{var{attr:i,size:o,title:a}=e,s=bn(e,yn),u=o||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),F.default.createElement("svg",he({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,s,{className:l,style:ge(ge({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&F.default.createElement("title",null,a),e.children)};return et!==void 0?F.default.createElement(et.Consumer,null,r=>t(r)):t(Qe)}function Cn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(e)}function rt(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.8492 11.6983L17.1421 10.9912L7.24264 20.8907H3V16.648L14.3137 5.33432L19.9706 10.9912C20.3611 11.3817 20.3611 12.0149 19.9706 12.4054L12.8995 19.4765L11.4853 18.0622L17.8492 11.6983ZM15.7279 9.57696L14.3137 8.16274L5 17.4765V18.8907H6.41421L15.7279 9.57696ZM18.5563 2.50589L21.3848 5.33432C21.7753 5.72484 21.7753 6.35801 21.3848 6.74853L19.9706 8.16274L15.7279 3.9201L17.1421 2.50589C17.5327 2.11537 18.1658 2.11537 18.5563 2.50589Z"},child:[]}]})(e)}function xn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15.1986 9.94447C14.7649 9.5337 14.4859 8.98613 14.4085 8.39384L14.0056 5.31138L11.275 6.79724C10.7503 7.08274 10.1433 7.17888 9.55608 7.06948L6.49998 6.50015L7.06931 9.55625C7.17871 10.1435 7.08257 10.7505 6.79707 11.2751L5.31121 14.0057L8.39367 14.4086C8.98596 14.4861 9.53353 14.7651 9.94431 15.1987L12.0821 17.4557L13.4178 14.6486C13.6745 14.1092 14.109 13.6747 14.6484 13.418L17.4555 12.0823L15.1986 9.94447ZM15.2238 15.5079L13.0111 20.1581C12.8687 20.4573 12.5107 20.5844 12.2115 20.442C12.1448 20.4103 12.0845 20.3665 12.0337 20.3129L8.49229 16.5741C8.39749 16.474 8.27113 16.4096 8.13445 16.3918L3.02816 15.7243C2.69958 15.6814 2.46804 15.3802 2.51099 15.0516C2.52056 14.9784 2.54359 14.9075 2.5789 14.8426L5.04031 10.3192C5.1062 10.1981 5.12839 10.058 5.10314 9.92253L4.16 4.85991C4.09931 4.53414 4.3142 4.22086 4.63997 4.16017C4.7126 4.14664 4.78711 4.14664 4.85974 4.16017L9.92237 5.10331C10.0579 5.12855 10.198 5.10637 10.319 5.04048L14.8424 2.57907C15.1335 2.42068 15.4979 2.52825 15.6562 2.81931C15.6916 2.88421 15.7146 2.95507 15.7241 3.02833L16.3916 8.13462C16.4095 8.2713 16.4739 8.39766 16.5739 8.49245L20.3127 12.0338C20.5533 12.2617 20.5636 12.6415 20.3357 12.8821C20.2849 12.9357 20.2246 12.9795 20.1579 13.0112L15.5078 15.224C15.3833 15.2832 15.283 15.3835 15.2238 15.5079ZM16.0206 17.435L17.4348 16.0208L21.6775 20.2634L20.2633 21.6776L16.0206 17.435Z"},child:[]}]})(e)}function An(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(e)}function Sn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 18H16.5C17.8807 18 19 16.8807 19 15.5C19 14.1193 17.8807 13 16.5 13H3V11H16.5C18.9853 11 21 13.0147 21 15.5C21 17.9853 18.9853 20 16.5 20H15V22L11 19L15 16V18ZM3 4H21V6H3V4ZM9 18V20H3V18H9Z"},child:[]}]})(e)}function En(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(e)}function On(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.23509 6.45329C4.85101 7.89148 4 9.84636 4 12C4 16.4183 7.58172 20 12 20C13.0808 20 14.1116 19.7857 15.0521 19.3972C15.1671 18.6467 14.9148 17.9266 14.8116 17.6746C14.582 17.115 13.8241 16.1582 12.5589 14.8308C12.2212 14.4758 12.2429 14.2035 12.3636 13.3943L12.3775 13.3029C12.4595 12.7486 12.5971 12.4209 14.4622 12.1248C15.4097 11.9746 15.6589 12.3533 16.0043 12.8777C16.0425 12.9358 16.0807 12.9928 16.1198 13.0499C16.4479 13.5297 16.691 13.6394 17.0582 13.8064C17.2227 13.881 17.428 13.9751 17.7031 14.1314C18.3551 14.504 18.3551 14.9247 18.3551 15.8472V15.9518C18.3551 16.3434 18.3168 16.6872 18.2566 16.9859C19.3478 15.6185 20 13.8854 20 12C20 8.70089 18.003 5.8682 15.1519 4.64482C14.5987 5.01813 13.8398 5.54726 13.575 5.91C13.4396 6.09538 13.2482 7.04166 12.6257 7.11976C12.4626 7.14023 12.2438 7.12589 12.012 7.11097C11.3905 7.07058 10.5402 7.01606 10.268 7.75495C10.0952 8.2232 10.0648 9.49445 10.6239 10.1543C10.7134 10.2597 10.7307 10.4547 10.6699 10.6735C10.59 10.9608 10.4286 11.1356 10.3783 11.1717C10.2819 11.1163 10.0896 10.8931 9.95938 10.7412C9.64554 10.3765 9.25405 9.92233 8.74797 9.78176C8.56395 9.73083 8.36166 9.68867 8.16548 9.64736C7.6164 9.53227 6.99443 9.40134 6.84992 9.09302C6.74442 8.8672 6.74488 8.55621 6.74529 8.22764C6.74529 7.8112 6.74529 7.34029 6.54129 6.88256C6.46246 6.70541 6.35689 6.56446 6.23509 6.45329ZM12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22Z"},child:[]}]})(e)}function Pn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function Bn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function Oe(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.0007 1.20825 18.3195 3.68108 20.7923 4.99992 18.3195 6.31876 17.0007 8.79159 15.6818 6.31876 13.209 4.99992 15.6818 3.68108 17.0007 1.20825ZM8.00065 4.33325 10.6673 9.33325 15.6673 11.9999 10.6673 14.6666 8.00065 19.6666 5.33398 14.6666.333984 11.9999 5.33398 9.33325 8.00065 4.33325ZM19.6673 16.3333 18.0007 13.2083 16.334 16.3333 13.209 17.9999 16.334 19.6666 18.0007 22.7916 19.6673 19.6666 22.7923 17.9999 19.6673 16.3333Z"},child:[]}]})(e)}const Rn=e=>{const t=T.useComponentsContext(),{onManualPromptSubmit:r,promptText:i,onPromptTextChange:o}=e,[a,s]=_.useState(""),u=i||a,l=_.useCallback(async g=>{g.key==="Enter"&&r(u)},[u,r]),p=_.useCallback(g=>{const m=g.currentTarget.value;o&&o(m),i===void 0&&s(m)},[o,s,i]),d=_.useMemo(()=>X.filterSuggestionItems(e.items,u),[u,e.items]),{selectedIndex:E,setSelectedIndex:h,handler:x}=T.useSuggestionMenuKeyboardHandler(d,g=>g.onItemClick()),S=_.useCallback(g=>{g.key==="Enter"?d.length>0?x(g):l(g):x(g)},[l,x,d.length]);return _.useEffect(()=>{h(0)},[u,h]),C.jsxs("div",{className:"bn-combobox",children:[C.jsx(t.Generic.Form.Root,{children:C.jsx(t.Generic.Form.TextInput,{className:"bn-combobox-input",name:"ai-prompt",variant:"large",icon:C.jsx(Oe,{}),value:u||"",autoFocus:!0,placeholder:e.placeholder,disabled:e.disabled,onKeyDown:S,onChange:p,autoComplete:"off"},"input-"+e.disabled)}),C.jsx(t.SuggestionMenu.Root,{className:"bn-combobox-items",id:"ai-suggestion-menu",children:d.map((g,m)=>C.jsx(t.SuggestionMenu.Item,{className:X.mergeCSSClasses("bn-suggestion-menu-item",g.size==="small"?"bn-suggestion-menu-item-small":""),id:g.key,isSelected:m===E,onClick:g.onItemClick,item:g},g.key))})]})};function Tn(e,t){const r=H(e);return[{key:"continue_writing",title:r.ai_menu.continue_writing.title,aliases:r.ai_menu.continue_writing.aliases,icon:C.jsx(rt,{size:18}),onItemClick:async()=>{await t.callLLM({prompt:"Continue writing",functions:[te]})},size:"small"},{key:"summarize",title:r.ai_menu.summarize.title,aliases:r.ai_menu.summarize.aliases,icon:C.jsx(Sn,{size:18}),onItemClick:async()=>{await t.callLLM({prompt:"Summarize",functions:[te]})},size:"small"},{key:"action_items",title:r.ai_menu.add_action_items.title,aliases:r.ai_menu.add_action_items.aliases,icon:C.jsx(An,{size:18}),onItemClick:async()=>{await t.callLLM({prompt:"Add action items",functions:[te]})},size:"small"},{key:"write_anything",title:r.ai_menu.write_anything.title,aliases:r.ai_menu.write_anything.aliases,icon:C.jsx(rt,{size:18}),onItemClick:i=>{i(r.ai_menu.write_anything.prompt_placeholder)},size:"small"}]}function jn(e,t){const r=H(e);return[{key:"improve_writing",title:r.ai_menu.improve_writing.title,aliases:r.ai_menu.improve_writing.aliases,icon:C.jsx(En,{size:18}),onItemClick:async()=>{await t.callLLM({useSelection:!0,prompt:"Improve writing",functions:[ne]})},size:"small"},{key:"fix_spelling",title:r.ai_menu.fix_spelling.title,aliases:r.ai_menu.fix_spelling.aliases,icon:C.jsx(Bn,{size:18}),onItemClick:async()=>{await t.callLLM({useSelection:!0,prompt:"Fix spelling",functions:[ne]})},size:"small"},{key:"translate",title:r.ai_menu.translate.title,aliases:r.ai_menu.translate.aliases,icon:C.jsx(On,{size:18}),onItemClick:i=>{i(r.ai_menu.translate.prompt_placeholder)},size:"small"},{key:"simplify",title:r.ai_menu.simplify.title,aliases:r.ai_menu.simplify.aliases,icon:C.jsx(xn,{size:18}),onItemClick:async()=>{await t.callLLM({useSelection:!0,prompt:"Simplify",functions:[ne]})},size:"small"}]}function Ln(e,t){const r=H(e);return[{key:"accept",title:r.ai_menu.accept.title,aliases:r.ai_menu.accept.aliases,icon:C.jsx(Pn,{size:18}),onItemClick:i=>{t.setAiMenuBlockID(void 0),t.setPrevDocument(void 0),t.setAIResponseStatus("initial")},size:"small"},{key:"revert",title:r.ai_menu.revert.title,aliases:r.ai_menu.revert.aliases,icon:C.jsx(Cn,{size:18}),onItemClick:()=>{e.replaceBlocks(e.document,t.prevDocument),t.setAiMenuBlockID(void 0),t.setPrevDocument(void 0),t.setAIResponseStatus("initial")},size:"small"}]}const Mn=e=>{const t=T.useBlockNoteEditor(),[r,i]=_.useState(""),o=Xe(),a=me(),{aiResponseStatus:s}=a,{items:u}=e,l=_.useMemo(()=>{let d=[];return u?d=u(t,a,s):s==="initial"?d=t.getSelection()?jn(t,a):Tn(t,a):a.aiResponseStatus==="done"&&(d=Ln(t,a)),d.map(E=>({...E,onItemClick:()=>{E.onItemClick(i)}}))},[u,s,t,a]),p=_.useCallback(async d=>{await a.callLLM({prompt:d,useSelection:t.getSelection()!==void 0})},[a,t]);return _.useEffect(()=>{s==="done"&&i("")},[s]),C.jsx(Rn,{onManualPromptSubmit:e.onManualPromptSubmit||p,items:l,promptText:r,onPromptTextChange:i,placeholder:s==="generating"?"Generating...":o.formatting_toolbar.ai.input_placeholder,disabled:s==="generating"})},Dn=e=>{const t=document.querySelector(`[data-id="${e.blockID}"]`),r=_.useMemo(()=>t?{getBoundingClientRect:()=>t.getBoundingClientRect(),contextElement:t}:null,[t]),{isMounted:i,ref:o,style:a,getFloatingProps:s}=T.useUIElementPositioning(!!t,r,3e3,{placement:"bottom",middleware:[ce.offset(10),ce.flip(),ce.size({apply({rects:u,elements:l}){Object.assign(l.floating.style,{width:`${u.reference.width}px`})}})],onOpenChange:e.onOpenChange,whileElementsMounted:ce.autoUpdate});return i?C.jsx("div",{ref:o,style:{...a},...s(),children:e.children}):null};function Nn(e){if(!T.useBlockNoteEditor())throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return C.jsx(C.Fragment,{children:e.aiMenu!==!1&&C.jsx(Un,{})})}const Un=()=>{const e=T.useBlockNoteEditor(),t=me();return C.jsx(Dn,{blockID:t.aiMenuBlockID,onOpenChange:r=>{!r&&t.aiMenuBlockID&&(t.setAiMenuBlockID(void 0),t.setAIResponseStatus("initial"),t.setPrevDocument(void 0),e.focus())},children:C.jsx(Mn,{})})},$n=()=>{const e=Xe(),t=T.useComponentsContext(),r=me(),i=T.useBlockNoteEditor(),o=()=>{i.formattingToolbar.closeMenu();const a=i.getTextCursorPosition().block;r.setAiMenuBlockID(a.id)};return i.isEditable?C.jsx(t.Toolbar.Button,{className:"bn-button",label:e.formatting_toolbar.ai.tooltip,mainTooltip:e.formatting_toolbar.ai.tooltip,icon:C.jsx(Oe,{}),onClick:o}):null},zn={AI:Oe};function Fn(e,t){return[{key:"ai",onItemClick:()=>{const i=e.getTextCursorPosition();i.block.content&&Array.isArray(i.block.content)&&i.block.content.length===0&&i.prevBlock?t.setAiMenuBlockID(i.prevBlock.id):t.setAiMenuBlockID(i.block.id)},...H(e).slash_menu.ai,icon:C.jsx(zn.AI,{})}]}class it{constructor(t,r){D(this,"state");D(this,"emitUpdate");D(this,"oldBlockInfo");D(this,"domElement");D(this,"blurHandler",t=>{var i;const r=this.pmView.dom.parentElement;t&&t.relatedTarget&&(r===t.relatedTarget||r.contains(t.relatedTarget)||t.relatedTarget.matches(".bn-container, .bn-container *"))||(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())});D(this,"dragHandler",()=>{var t;(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate())});D(this,"scrollHandler",()=>{var t;(t=this.state)!=null&&t.show&&(this.state.referencePos=this.domElement.getBoundingClientRect(),this.emitUpdate())});D(this,"closeMenu",()=>{var t;(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate())});this.pmView=t,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized AI toolbar");r(this.state)},t.dom.addEventListener("dragstart",this.dragHandler),t.dom.addEventListener("dragover",this.dragHandler),t.dom.addEventListener("blur",this.blurHandler),t.root.addEventListener("scroll",this.scrollHandler,!0)}update(t){var i,o;const r=X.getBlockInfoFromSelection(t.state);if(r.blockNoteType!=="ai"&&((i=this.oldBlockInfo)==null?void 0:i.blockNoteType)!=="ai"){this.oldBlockInfo=r;return}if(this.oldBlockInfo=r,r.blockNoteType==="ai"&&r.bnBlock.node.attrs.prompt!==""&&t.state.selection.$from.sameParent(t.state.selection.$to)){this.domElement=t.domAtPos(r.bnBlock.beforePos).node.firstChild,this.state={prompt:r.bnBlock.node.attrs.prompt,show:!0,referencePos:this.domElement.getBoundingClientRect()},this.emitUpdate();return}(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const ot=new ue.PluginKey("AIBlockToolbarPlugin");class qn extends X.EventEmitter{constructor(){super();D(this,"view");D(this,"plugin");D(this,"closeMenu",()=>this.view.closeMenu());this.plugin=new ue.Plugin({key:ot,view:r=>(this.view=new it(r,i=>{this.emit("update",i)}),this.view)})}get shown(){var r,i;return((i=(r=this.view)==null?void 0:r.state)==null?void 0:i.show)||!1}onUpdate(r){return this.on("update",r)}}const Gn=new ue.PluginKey("blocknote-ai-show-selection");class Wn{constructor(){D(this,"plugin");this.plugin=new ue.Plugin({key:Gn,props:{decorations:t=>{const{doc:r,selection:i}=t,o=Ue.Decoration.inline(i.from,i.to,{"data-ai-show-selection":"true"});return Ue.DecorationSet.create(r,[o])}}})}}const Hn=Object.freeze(Object.defineProperty({__proto__:null,ar:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},en:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{continue_writing:{title:"Continue Writing",aliases:void 0},summarize:{title:"Summarize",aliases:void 0},add_action_items:{title:"Add Action Items",aliases:void 0},write_anything:{title:"Write Anything",aliases:void 0,prompt_placeholder:"Write about "},make_longer:{title:"Make Longer",aliases:void 0},make_shorter:{title:"Make Shorter",aliases:void 0},rewrite:{title:"Rewrite",aliases:void 0},simplify:{title:"Simplify",aliases:void 0},translate:{title:"Translate",aliases:void 0,prompt_placeholder:"Translate into "},fix_spelling:{title:"Fix Spelling",aliases:void 0},improve_writing:{title:"Improve Writing",aliases:void 0},accept:{title:"Accept",aliases:void 0},retry:{title:"Retry",aliases:void 0},revert:{title:"Revert",aliases:void 0}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},fr:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{make_longer:{title:"Make Longer",aliases:void 0}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},is:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},ja:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},ko:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},nl:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},pl:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},pt:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},ru:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},vi:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}},zh:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating",revert:"Revert"}}},Symbol.toStringTag,{value:"Module"}));b.AIBlockToolbarProsemirrorPlugin=qn,b.AIBlockToolbarView=it,b.AIShowSelectionPlugin=Wn,b.AIToolbarButton=$n,b.BlockNoteAIContext=Ee,b.BlockNoteAIContextProvider=gn,b.BlockNoteAIUI=Nn,b.aiBlockToolbarPluginKey=ot,b.createBlockNoteAIClient=Dt,b.getAIDictionary=H,b.getAISlashMenuItems=Fn,b.locales=Hn,b.useBlockNoteAIContext=me,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=blocknote-xl-ai.umd.cjs.map
